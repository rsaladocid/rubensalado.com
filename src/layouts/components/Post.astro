---
import config from "@/config/config.json";
import dateFormat from "@/lib/utils/dateFormat";
const { blog_folder } = config.settings;

const { post, className } = Astro.props;
const { id, slug, body, data, collection } = post;
---

<div class={className}>
  <div class="rounded border border-border p-6 lg:p-9">
    <ul class="flex items-center space-x-4">
      {
        data.categories.map((category: any) => (
          <li>
            <a
              class="text-primary"
              href={`/categories/${category.replace(" ", "-").toLowerCase()}`}
            >
              {category}
            </a>
          </li>
        ))
      }
    </ul>
    <p class="my-4">{dateFormat(data.date)}</p>
    <h2 class="h3 mb-2 font-normal">
      <a href={data.url ? `${data.url}` : `/${blog_folder}/${post.slug}`} class="block">
        {data.title}
      </a>
    </h2>
    <a
      class="btn-link mt-7 inline-flex items-center hover:text-primary"
      href={data.url ? `${data.url}` : `/${blog_folder}/${slug}`}
    >
      Continue

      {
        !data.url ?
      <svg
        class="ml-1"
        width="22"
        height="11"
        viewBox="0 0 16 8"
        fill="currentcolor"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M15.3536 4.35355c.1952-.19526.1952-.51184.0-.7071L12.1716.464467C11.9763.269205 11.6597.269205 11.4645.464467c-.1953.195262-.1953.511845.0.707103L14.2929 4 11.4645 6.82843c-.1953.19526-.1953.51184.0.7071C11.6597 7.7308 11.9763 7.7308 12.1716 7.53553l3.182-3.18198zM-.437114e-7 4.5H15v-1H.437114e-7l-.874228e-7 1z"
        ></path>
      </svg>
      :
      <svg 
        xmlns="http://www.w3.org/2000/svg" 
        width="18"
        height="18" 
        viewBox="0 0 24 24" 
        fill="none" 
        stroke="currentColor" 
        stroke-width="2" 
        stroke-linecap="round" 
        stroke-linejoin="round" 
        class="ml-1 lucide lucide-external-link"
       >
        <path d="M15 3h6v6"/>
        <path d="M10 14 21 3"/>
        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
      </svg>
      }
    </a>
  </div>
</div>
